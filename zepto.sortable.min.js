/**
 * Zepto sortable 0.0.1
 * Copyright 2016, https://github.com/fwon
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Desctiption:
 *   Avaliable for both pc and mobile
 * Depends:
 *   zepto.js
 */
!function(a){var b=[];a.fn.sortable=function(c){function p(){if(a(j).length<2)return!1;var b=a(j).first(),c=a(a(j).get(1));return b&&c?(l=b.position().top,n=c.position().top-l,k=b.position().left,m=c.position().left-k,!0):!1}function q(){f=a(j),e=[];for(var b=0,c=f.length;c>b;b++){var d=a(f[b]),h=d.position().left,i=d.position().top;e.push({left:h,top:i}),d.addClass(g+"-"+b),d.attr("data-pos",b)}}function r(){f=a(j);for(var b=0,c=f.length;c>b;b++){var d=a(f[b]),g=e[b];d.css({position:"absolute",left:g.left,top:g.top})}}function s(){a(j).css({position:c.positionDisplay,left:"",top:""})}function t(a,b){var c=a.data("pos"),d=b.data("pos");a.data("pos",d),b.data("pos",c),a.removeClass(g+"-"+c).addClass(g+"-"+d),b.removeClass(g+"-"+d).addClass(g+"-"+c),+c>+d?b.insertAfter(a):b.insertBefore(a)}if(!(b.indexOf(this.selector)<0))return!1;b.push(this.selector);var d={orient:null,itemClassName:"cont",positionDisplay:"static",afterSort:null};if(c=a.extend(d,c),c.orient){var f,k,l,u,v,w,e=[],g=c.itemClassName,h=this.selector,i="."+g,j=h+" ."+g,m=null,n=null,o="vertical"===c.orient;a(h).on("touchstart mousedown",i,function(b){return b.preventDefault(),b.stopPropagation(),p()?(q(),u=a(b.currentTarget),v=+u.data("pos"),void r()):!1}),a(h).on("touchmove mousemove",i,function(b){if(b.preventDefault(),b.stopPropagation(),!u)return!1;var c=null;if("touchmove"===b.type?b.touches&&1===b.touches.length&&(c=b.touches[0]):"mousemove"===b.type&&(c={pageX:b.pageX,pageY:b.pageY}),!c)return!1;if(o?u.css({top:c.pageY-n/2}):u.css({left:c.pageX-m/2}),w=o?Math.floor((c.pageY-l)/n):Math.floor((c.pageX-k)/m),0>w&&(w=0),w>=f.length&&(w=f.length-1),v!==w){var d=a(j+"-"+w);d.css({left:e[v].left,top:e[v].top}),t(u,d),v=w}}),a(h).on("touchend mouseup",i,function(a){return w+1?(u.css({left:e[w].left,top:e[w].top}),u=null,s(),void(c.afterSort&&c.afterSort())):(u=null,!1)})}}}(Zepto);